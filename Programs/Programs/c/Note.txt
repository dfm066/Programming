
Code in code::blocks
Download Mini project in c,c++,c# ,OpenGL,GLUT,GLFW,windows form application source code
▼
Sunday, June 19, 2011
Mini project snake game in c
Mini project in C many Student do management project like library management ,Hotel management etc.But Snake Game is mini project of first semester build by my friend which is very different.It is console application without graphic library that's why it is more interesting.This game is perfect without any error and better user interface.It is complied in code::block using c language.Here goes a source code you can copy and compiled it in code::block.I hope it can help and become a reference for your project.

#include <stdio.h>

#include <time.h>

#include <stdlib.h>

#include <conio.h>

#include<time.h>

#include<ctype.h>

#include <time.h>

#include <windows.h>

#include <process.h>

#define UP 72

#define DOWN 80

#define LEFT 75

#define RIGHT 77

int length;

int bend_no;

int len;

char key;

void record();

void load();

int life;

void Delay(long double);

void Move();

void gotoxy(int x, int y);

void GotoXY(int x,int y);

void Bend();

void Boarder();

void Down();

void Left();

void Up();

void Right();

void ExitGame();

int Scoreonly();

struct coordinate{

    int x;

    int y;

    int direction;

};

typedef struct coordinate coordinate;

coordinate head, bend[500],food,body[30];

int main()

{

    char key;

    Print();

    system("cls");

    load();

    length=5;

    head.x=25;

    head.y=20;

    head.direction=RIGHT;

    Boarder();

    Food(); //to generate food coordinates initially

    life=3; //number of extra lives

    bend[0]=head;

    Move();   //initialing initial bend coordinate

    return 0;

}



void Move()

{

    int a,i;

    do{

        Food();

        fflush(stdin);

        len=0;

        for(i=0;i<30;i++)

        {

            body[i].x=0;

            body[i].y=0;

            if(i==length)

            break;

        }

        Delay(length);

        Boarder();

        if(head.direction==RIGHT)

            Right();

        else if(head.direction==LEFT)

            Left();

        else if(head.direction==DOWN)

            Down();

        else if(head.direction==UP)

            Up();

        ExitGame();



    }while(!kbhit());

    a=getch();

    if(a==27)

    {

        system("cls");

        exit(0);

    }

    key=getch();

    if((key==RIGHT&&head.direction!=LEFT&&head.direction!=RIGHT)||(key==LEFT&&head.direction!=RIGHT&&head.direction!=LEFT)||(key==UP&&head.direction!=DOWN&&head.direction!=UP)||(key==DOWN&&head.direction!=UP&&head.direction!=DOWN))

    {

        bend_no++;

        bend[bend_no]=head;

        head.direction=key;

        if(key==UP)

            head.y--;

        if(key==DOWN)

            head.y++;

        if(key==RIGHT)

            head.x++;

        if(key==LEFT)

            head.x--;

        Move();



    }

    else if(key==27)

    {

        system("cls");

        exit(0);

    }

    else

    {

        printf("\a");

        Move();

    }

}

void gotoxy(int x, int y)

{

 COORD coord;

 coord.X = x;

 coord.Y = y;

 SetConsoleCursorPosition(GetStdHandle(STD_OUTPUT_HANDLE), coord);

}

void GotoXY(int x, int y)

{

    HANDLE a;

    COORD b;

    fflush(stdout);

    b.X = x;

    b.Y = y;

    a = GetStdHandle(STD_OUTPUT_HANDLE);

    SetConsoleCursorPosition(a,b);

 }

void load(){

    int row,col,r,c,q;

    gotoxy(36,14);

    printf("loading...");

    gotoxy(30,15);

    for(r=1;r<=20;r++){

    for(q=0;q<=100000000;q++);//to display the character slowly

    printf("%c",177);}

    getch();

}

void Down()

{

    int i;

    for(i=0;i<=(head.y-bend[bend_no].y)&&len<length;i++)

    {

        GotoXY(head.x,head.y-i);

        {

            if(len==0)

                printf("v");

            else

                printf("*");

        }

        body[len].x=head.x;

        body[len].y=head.y-i;

        len++;

    }

    Bend();

    if(!kbhit())

        head.y++;



}

void Delay(long double k)

{

    Score();

    long double i;

    for(i=0;i<=(10000000);i++);

}

void ExitGame()

{

    int i,check=0;

    for(i=4;i<length;i++)   //starts with 4 because it needs minimum 4 element to touch its own body

    {

        if(body[0].x==body[i].x&&body[0].y==body[i].y)

        {

            check++;    //check's value increases as the coordinates of head is equal to any other body coordinate

        }

        if(i==length||check!=0)

            break;

    }

    if(head.x<=10||head.x>=70||head.y<=10||head.y>=30||check!=0)

    {

        life--;

        if(life>=0)

        {

            head.x=25;

            head.y=20;

            bend_no=0;

            head.direction=RIGHT;

            Move();

        }

        else

        {

            system("cls");

            printf("All lives completed\nBetter Luck Next Time!!!\nPress any key to quit the game\n");

            record();

            exit(0);

        }

    }

}

void Food()

{

    if(head.x==food.x&&head.y==food.y)

    {

        length++;

        time_t a;

        a=time(0);

        srand(a);

        food.x=rand()%70;

        if(food.x<=10)

            food.x+=11;

        food.y=rand()%30;

        if(food.y<=10)

            food.y+=11;

    }

    else if(food.x==0)/*to create food for the first time coz global variable are initialized with 0*/

    {

        food.x=rand()%70;

        if(food.x<=10)

            food.x+=11;

        food.y=rand()%30;

        if(food.y<=10)

            food.y+=11;

    }



}

void Left()

{

    int i;

    for(i=0;i<=(bend[bend_no].x-head.x)&&len<length;i++)

    {

        GotoXY((head.x+i),head.y);

       {

                if(len==0)

                    printf("<");

                else

                    printf("*");

        }

        body[len].x=head.x+i;

        body[len].y=head.y;

        len++;

    }

    Bend();

    if(!kbhit())

        head.x--;



}

void Right()

{

    int i;

    for(i=0;i<=(head.x-bend[bend_no].x)&&len<length;i++)

    {

        //GotoXY((head.x-i),head.y);

        body[len].x=head.x-i;

        body[len].y=head.y;

        GotoXY(body[len].x,body[len].y);

        {

            if(len==0)

                printf(">");

            else

                printf("*");

        }

        /*body[len].x=head.x-i;

        body[len].y=head.y;*/

        len++;

    }

    Bend();

    if(!kbhit())

        head.x++;



}

void Bend()

{

    int i,j,diff;

    for(i=bend_no;i>=0&&len<length;i--)

    {

            if(bend[i].x==bend[i-1].x)

            {

                diff=bend[i].y-bend[i-1].y;

                if(diff<0)

                    for(j=1;j<=(-diff);j++)

                    {



                        body[len].x=bend[i].x;

                        body[len].y=bend[i].y+j;

                        GotoXY(body[len].x,body[len].y);

                        printf("*");

                        len++;

                        if(len==length)

                            break;

                    }

                else if(diff>0)

                    for(j=1;j<=diff;j++)

                    {

                        /*GotoXY(bend[i].x,(bend[i].y-j));

                        printf("*");*/

                        body[len].x=bend[i].x;

                        body[len].y=bend[i].y-j;

                        GotoXY(body[len].x,body[len].y);

                        printf("*");

                        len++;

                        if(len==length)

                            break;

                    }

            }

        else if(bend[i].y==bend[i-1].y)

        {

            diff=bend[i].x-bend[i-1].x;

            if(diff<0)

                for(j=1;j<=(-diff)&&len<length;j++)

                {

                    /*GotoXY((bend[i].x+j),bend[i].y);

                    printf("*");*/

                    body[len].x=bend[i].x+j;

                    body[len].y=bend[i].y;

                    GotoXY(body[len].x,body[len].y);

                        printf("*");

                    len++;

                    if(len==length)

                            break;

                }

            else if(diff>0)

                for(j=1;j<=diff&&len<length;j++)

                {

                    /*GotoXY((bend[i].x-j),bend[i].y);

                    printf("*");*/

                    body[len].x=bend[i].x-j;

                    body[len].y=bend[i].y;

                    GotoXY(body[len].x,body[len].y);

                        printf("*");

                    len++;

                    if(len==length)

                        break;

                }

        }

    }

}

void Boarder()

{

    system("cls");

    int i;

    GotoXY(food.x,food.y);   /*displaying food*/

        printf("F");

    for(i=10;i<71;i++)

    {

        GotoXY(i,10);

            printf("!");

        GotoXY(i,30);

            printf("!");

    }

    for(i=10;i<31;i++)

    {

        GotoXY(10,i);

            printf("!");

        GotoXY(70,i);

        printf("!");

    }

}

void Print()

{

    //GotoXY(10,12);

    printf("\tWelcome to the mini Snake game.(press any key to continue)\n");

   getch();

    system("cls");

    printf("\tGame instructions:\n");

    printf("\n-> Use arrow keys to move the snake.\n\n-> You will be provided foods at the several coordinates of the screen which you have to eat. Everytime you eat a food the length of the snake will be increased by 1 element and thus the score.\n\n-> Here you are provided with three lives. Your life will decrease as you hit the wall or snake's body.\n\n-> YOu can pause the game in its middle by pressing any key. To continue the paused game press any other key once again\n\n-> If you want to exit press esc. \n");

    printf("\n\nPress any key to play game...");

    if(getch()==27)

    exit(0);

}

void record(){

    char plname[20],nplname[20],cha,c;

    int i,j,px;

    FILE *info;

    info=fopen("record.txt","a+");

    getch();

    system("cls");

    printf("Enter your name\n");

    scanf("%[^\n]",plname);

    //************************

    for(j=0;plname[j]!='\0';j++){ //to convert the first letter after space to capital

    nplname[0]=toupper(plname[0]);

    if(plname[j-1]==' '){

    nplname[j]=toupper(plname[j]);

    nplname[j-1]=plname[j-1];}

    else nplname[j]=plname[j];

    }

    nplname[j]='\0';

    //*****************************

    //sdfprintf(info,"\t\t\tPlayers List\n");

    fprintf(info,"Player Name :%s\n",nplname);

     //for date and time
   time_t mytime;

   mytime = time(NULL);

   fprintf(info,"Played Date:%s",ctime(&mytime));

      //**************************

      fprintf(info,"Score:%d\n",px=Scoreonly());//call score to display score

      //fprintf(info,"\nLevel:%d\n",10);//call level to display level

    for(i=0;i<=50;i++)

    fprintf(info,"%c",'_');

    fprintf(info,"\n");

    fclose(info);

    printf("wanna see past records press 'y'\n");

    cha=getch();

    system("cls");

    if(cha=='y'){

    info=fopen("record.txt","r");

    do{

        putchar(c=getc(info));

        }while(c!=EOF);}

      fclose(info);

}

int Score()

{

    int score;

    GotoXY(20,8);

    score=length-5;

    printf("SCORE : %d",(length-5));

    score=length-5;

    GotoXY(50,8);

    printf("Life : %d",life);

    return score;

}

int Scoreonly()

{

int score=Score();

system("cls");

return score;

}

void Up()

{

    int i;

    for(i=0;i<=(bend[bend_no].y-head.y)&&len<length;i++)

    {

        GotoXY(head.x,head.y+i);

        {

            if(len==0)

                printf("^");

            else

                printf("*");

        }

        body[len].x=head.x;

        body[len].y=head.y+i;

        len++;

    }

    Bend();

    if(!kbhit())

        head.y--;



}

Dinesh Smokin at 9:57 PM
Share
 
43 comments:

AnonymousFebruary 4, 2012 at 9:39 PM
"windows.h header file" is missing in my c software and c software is emulated c++ which is compatible with window7
any one could please help me to solve this problem
Thank you in advance

Reply
Replies

AnonymousJuly 11, 2013 at 11:22 AM
no u cant do it..........lol

Reply

dinesh_subediFebruary 10, 2012 at 1:54 PM
Sorry I am can't understand which compiler you use this code run only in gcc compiler.I think you are using turbo c then don't use it is old download codeblocks which support latest standard c language

Reply

rajeev ramanJuly 9, 2012 at 3:11 AM
i got 4 errors and 1 warning.i m using C Free5 to run .
errors are:

--------------------Configuration: mingw5 - CUI Debug, Builder Type: MinGW--------------------

Checking file dependency...
Compiling C:\Users\RAJEEVRAMAN\Documents\C-Free\Projects\snake game\main.c...
[Error] C:\Users\RAJEEVRAMAN\Documents\C-Free\Projects\snake game\main.c:206: error: conflicting types for 'Food'
[Error] C:\Users\RAJEEVRAMAN\Documents\C-Free\Projects\snake game\main.c:51: error: previous implicit declaration of 'Food' was here
[Error] C:\Users\RAJEEVRAMAN\Documents\C-Free\Projects\snake game\main.c:364: error: conflicting types for 'Print'
[Error] C:\Users\RAJEEVRAMAN\Documents\C-Free\Projects\snake game\main.c:43: error: previous implicit declaration of 'Print' was here
[Warning] C:\Users\RAJEEVRAMAN\Documents\C-Free\Projects\snake game\main.c:454:2: warning: no newline at end of file

Complete Make main: 4 error(s), 1 warning(s)

Reply

dinesh_subediJuly 9, 2012 at 12:00 PM
This program is compile in Code::Blocks IDE with MinGw I don't know about 
C Free5 so compile it in codeblocks if you don't have then download it form codeblocks.org

Reply

AnonymousSeptember 28, 2012 at 1:17 AM
hey nice piece of code... but can any 1 plz tell me in this project do u use any data structure...if any plz tell me which one...

Reply

Ashutosh KushwahaOctober 11, 2012 at 4:32 PM
thanks bro... it's working in codeblocks latest version.

Reply
Replies

Jewel AhmedOctober 13, 2012 at 2:19 AM
plz help me bro...

Reply

Jewel AhmedOctober 13, 2012 at 2:14 AM
any 1 help me plzzz....i got 10 errors nd 5 warnings..

Reply
Replies

Dinesh SmokinOctober 14, 2012 at 3:24 PM
plz specify which compiler you use


saravanan csAugust 14, 2013 at 11:09 AM
Hello boss...can u give algorithm for this project..

Reply

sun!l khorwalNovember 8, 2012 at 9:11 AM
i got 17 error and 5 warning 
using turbo c++ 4.5

Reply
Replies

Dinesh SmokinNovember 10, 2012 at 7:59 PM
use code::blocks IDE with MinGW compiler.

Reply

Natalia SutantoDecember 31, 2012 at 5:30 PM
i use codeblocks but it have 4 errors , help me soon, thanks

Reply
Replies

Dinesh SmokinJanuary 1, 2013 at 7:37 PM
show me error message

Reply

AnonymousJanuary 10, 2013 at 12:12 AM
conio.h is not a standard C library. That's the reason it triggers errors.

Reply

AnonymousJanuary 15, 2013 at 2:21 PM
yr i got more than 17erros nd 8warnings

Reply

christopher starkeJanuary 19, 2013 at 3:52 AM
Works perfectly for me in code blocks 

Reply

christopher starkeJanuary 19, 2013 at 3:53 AM
Really fun :)

Reply

MihaiJanuary 25, 2013 at 11:07 PM
I get this error compiling with COdeBLocks

x86)\CodeBlocks\ghd\Untitled2.cpp:43:11: error: 'Print' was not declared in this scope
C:\Program Files (x86)\CodeBlocks\ghd\Untitled2.cpp:51:10: error: 'Food' was not declared in this scope
C:\Program Files (x86)\CodeBlocks\ghd\Untitled2.cpp:42:10: warning: unused variable 'key' [-Wunused-variable]
C:\Program Files (x86)\CodeBlocks\ghd\Untitled2.cpp: In function 'void Move()':
C:\Program Files (x86)\CodeBlocks\ghd\Untitled2.cpp:62:14: error: 'Food' was not declared in this scope
C:\Program Files (x86)\CodeBlocks\ghd\Untitled2.cpp: In function 'void load()':
C:\Program Files (x86)\CodeBlocks\ghd\Untitled2.cpp:137:9: warning: unused variable 'row' [-Wunused-variable]
C:\Program Files (x86)\CodeBlocks\ghd\Untitled2.cpp:137:13: warning: unused variable 'col' [-Wunused-variable]
C:\Program Files (x86)\CodeBlocks\ghd\Untitled2.cpp:137:19: warning: unused variable 'c' [-Wunused-variable]
C:\Program Files (x86)\CodeBlocks\ghd\Untitled2.cpp: In function 'void Delay(long double)':
C:\Program Files (x86)\CodeBlocks\ghd\Untitled2.cpp:169:11: error: 'Score' was not declared in this scope


Please help. Thanks

Reply
Replies

MihaiJanuary 26, 2013 at 2:02 AM
EDIT : I solve the problem. IT WORKS GREAT.

THANKS !!

Reply

hafidz erwinFebruary 3, 2013 at 8:58 AM
how to solve that problem?

Reply

AnonymousFebruary 26, 2013 at 12:13 AM
Thanks! Had some errors but i fixed them!

Reply

weheeMarch 4, 2013 at 8:29 PM
what is the coding for loading?

Reply

Bharat SutharMarch 16, 2013 at 11:09 PM
what is the use of COORD coord ???

Reply
Replies

Dinesh SmokinMarch 17, 2013 at 12:43 AM
COORD coord is the structure which is used to move the cursor so that the snake move on the screen by changing cursor with the help of this.

Reply

Bharat SutharMarch 16, 2013 at 11:11 PM
Can any body explain this whole code line by line please .. -thanks in advance

Reply
Replies

Dinesh SmokinMarch 17, 2013 at 12:45 AM
Who have the time to explain the code line by line. Just start learning from int main() function and step by step each function.

Reply

AnonymousMarch 17, 2013 at 10:34 PM
hi there,thanks to this coding..it can run perfectly..although it has a little bit of error,but after fix it,i can play the game..5star 4 u..

Reply

JP LaffertyMarch 19, 2013 at 6:07 PM
Really great share! Thanks:) Compiled in Dev C++ and it works grand.

Reply

AnonymousApril 3, 2013 at 6:32 PM
|206|error: conflicting types for 'Food'|
|51|error: previous implicit declaration of 'Food' was here|
|364|error: conflicting types for 'Print'|
|43|error: previous implicit declaration of 'Print' was here|
||=== Build finished: 4 errors, 0 warnings (0 minutes, 4 seconds) ===|



What's going on?

Reply

AnonymousApril 9, 2013 at 4:14 AM
write void in line 43 before Print and it should work

Reply

AnonymousApril 15, 2013 at 10:47 AM
Error-1 error C3861: 'Food': identifier not found

Error-2 error C3861: 'Food': identifier not found

Error-3 error C3861: 'Score': identifier not found

Warning-4 warning C4244: 'argument' : conversion from 'time_t' to 'unsigned int', possible loss of data

Reply

omar zizoApril 30, 2013 at 3:12 AM
Error 1 error C3861: 'Print': identifier not found c:\users\dell\documents\visual studio 2010\projects\snack\snack\snack.cpp 43 1 snack
Error 2 error C3861: 'Food': identifier not found c:\users\dell\documents\visual studio 2010\projects\snack\snack\snack.cpp 51 1 snack
Error 3 error C3861: 'Food': identifier not found c:\users\dell\documents\visual studio 2010\projects\snack\snack\snack.cpp 62 1 snack
Error 4 error C3861: 'Score': identifier not found c:\users\dell\documents\visual studio 2010\projects\snack\snack\snack.cpp 169 1 snack
Warning 5 warning C4244: 'argument' : conversion from 'time_t' to 'unsigned int', possible loss of data c:\users\dell\documents\visual studio 2010\projects\snack\snack\snack.cpp 212 1 snack

Reply

AnonymousMay 18, 2013 at 9:34 AM
Can I have a coding on TYPING TUTOR please?

Reply

AnonymousMay 24, 2013 at 8:37 PM
To fix the problem 

Error-1 error C3861: 'Food': identifier not found

Error-2 error C3861: 'Food': identifier not found

Error-3 error C3861: 'Score': identifier not found

Add:

void Food();
void Print();
int Score();

at the top with the other declared functions this should fix the issue.

Reply
Replies

AnonymousJune 11, 2013 at 4:00 PM
is not well explanatory please kindly explain the source code.

Reply

AnonymousJune 24, 2013 at 6:27 PM
For those getting errors for food and print function, simply give a function prototype at the top where other function prototypes have been placed .....




Reply

deepi kowshiAugust 9, 2013 at 4:44 PM
pls help us....
our errors are:
[Error] D:\c\Untitled3.cpp:87:11: error: 'Print' was not declared in this scope
[Error] D:\c\Untitled3.cpp:103:10: error: 'Food' was not declared in this scope
[Error] D:\c\Untitled3.cpp:126:14: error: 'Food' was not declared in this scope
[Error] D:\c\Untitled3.cpp:344:11: error: 'Score' was not declared in this scope
[Error] D:\c\Untitled3.cpp:805:5: error: expected primary-expression before '<' token
[Error] D:\c\Untitled3.cpp:805:6: error: 'span' was not declared in this scope
[Error] D:\c\Untitled3.cpp:805:11: error: expected ';' before 'class'
[Error] D:\c\Untitled3.cpp:807:5: error: expected primary-expression before '<' token
[Error] D:\c\Untitled3.cpp:807:11: error: expected ';' before 'class'
[Error] D:\c\Untitled3.cpp:809:5: error: expected primary-expression before '<' token
[Error] D:\c\Untitled3.cpp:809:11: error: expected ';' before 'class'


Reply

saravanan csAugust 13, 2013 at 5:51 PM
hi....can u give algorithm for this project

Reply

Gaurav VichareOctober 11, 2013 at 12:54 PM
It's very big code. Thanks for sharing.

Reply

AnonymousOctober 19, 2013 at 4:25 PM
i have got the output but i wasunable to play. The program quits immediately after pressing a key.


Reply

AnonymousOctober 22, 2013 at 8:39 PM
i use c-free 4.0 and it displays these errors
[Error] C:\Users\DAVLEX\Desktop\game.c:339: parse error before `long'
[Error] C:\Users\DAVLEX\Desktop\game.c:341: `i' undeclared (first use in this function)
[Error] C:\Users\DAVLEX\Desktop\game.c:341: (Each undeclared identifier is reported only once
[Error] C:\Users\DAVLEX\Desktop\game.c:341: for each function it appears in.)
[Warning] C:\Users\DAVLEX\Desktop\game.c:411: warning: type mismatch with previous implicit declaration
[Warning] C:\Users\DAVLEX\Desktop\game.c:123: warning: previous implicit declaration of `Food'
[Warning] C:\Users\DAVLEX\Desktop\game.c:411: warning: `Food' was previously implicitly declared to return `int'
[Error] C:\Users\DAVLEX\Desktop\game.c:419: parse error before `a'
[Error] C:\Users\DAVLEX\Desktop\game.c:421: `a' undeclared (first use in this function)
[Error] C:\Users\DAVLEX\Desktop\game.c:689: parse error before `int'
[Error] C:\Users\DAVLEX\Desktop\game.c:695: `i' undeclared (first use in this function)
[Warning] C:\Users\DAVLEX\Desktop\game.c:727: warning: type mismatch with previous implicit declaration
[Warning] C:\Users\DAVLEX\Desktop\game.c:85: warning: previous implicit declaration of `Print'
[Warning] C:\Users\DAVLEX\Desktop\game.c:727: warning: `Print' was previously implicitly declared to return `int'
[Error] C:\Users\DAVLEX\Desktop\game.c:792: parse error before `mytime'
[Error] C:\Users\DAVLEX\Desktop\game.c:794: `mytime' undeclared (first use in this function)

Reply

Load more...
Links to this post
Create a Link

‹
›
Home
View web version
About Me

Dinesh Smokin
Content of this blog is collection of articles which I read and my and friends college projects. You can contact me at smokindinesh@gmail.com and you can also submit you articles.
View my complete profile
Powered by Blogger
